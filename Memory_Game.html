<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Memory Card Game</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #2e3d49;
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .game-container {
    width: 320px;
    display: grid;
    grid-template-columns: repeat(4, 70px);
    grid-gap: 15px;
  }

  .card {
    width: 70px;
    height: 70px;
    background: #1c262f;
    border-radius: 8px;
    cursor: pointer;
    position: relative;
    perspective: 600px;
  }

  .card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    text-align: center;
    transition: transform 0.5s;
    transform-style: preserve-3d;
  }

  .card.flipped .card-inner {
    transform: rotateY(180deg);
  }

  .card-front,
  .card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    line-height: 70px;
    font-size: 40px;
    border-radius: 8px;
    backface-visibility: hidden;
  }

  .card-front {
    background: #4caf50;
    color: #fff;
    transform: rotateY(180deg);
  }

  .card-back {
    background: #2196f3;
  }

  .message {
    margin-top: 20px;
    text-align: center;
    font-size: 20px;
  }
</style>
</head>
<body>

<div>
  <div class="game-container" id="game"></div>
  <div class="message" id="message"></div>
</div>

<script>
  const symbols = ['ðŸŽ', 'ðŸŒ', 'ðŸ‡', 'ðŸ“', 'ðŸ’', 'ðŸ¥', 'ðŸ', 'ðŸ‰'];
  let cardsArray = symbols.concat(symbols); // duplicate to create pairs

  // Shuffle function (Fisher-Yates)
  function shuffle(array) {
    for (let i = array.length -1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i+1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  const gameContainer = document.getElementById('game');
  const message = document.getElementById('message');
  let firstCard = null;
  let secondCard = null;
  let lockBoard = false;
  let matchedPairs = 0;

  function createCard(symbol) {
    const card = document.createElement('div');
    card.classList.add('card');
    card.dataset.symbol = symbol;

    card.innerHTML = `
      <div class="card-inner">
        <div class="card-front">${symbol}</div>
        <div class="card-back"></div>
      </div>
    `;

    card.addEventListener('click', onCardClick);
    return card;
  }

  function onCardClick(e) {
    if (lockBoard) return;

    const clickedCard = e.currentTarget;
    if (clickedCard === firstCard) return; // ignore double click on same card

    clickedCard.classList.add('flipped');

    if (!firstCard) {
      firstCard = clickedCard;
      return;
    }

    secondCard = clickedCard;
    checkForMatch();
  }

  function checkForMatch() {
    const isMatch = firstCard.dataset.symbol === secondCard.dataset.symbol;
    if (isMatch) {
      matchedPairs++;
      firstCard.removeEventListener('click', onCardClick);
      secondCard.removeEventListener('click', onCardClick);
      resetTurn();
      if (matchedPairs === symbols.length) {
        message.textContent = 'ðŸŽ‰ You Won! ðŸŽ‰';
      }
    } else {
      lockBoard = true;
      setTimeout(() => {
        firstCard.classList.remove('flipped');
        secondCard.classList.remove('flipped');
        resetTurn();
      }, 1000);
    }
  }

  function resetTurn() {
    [firstCard, secondCard] = [null, null];
    lockBoard = false;
  }

  function initGame() {
    matchedPairs = 0;
    message.textContent = '';
    gameContainer.innerHTML = '';
    const shuffledCards = shuffle(cardsArray.slice());
    shuffledCards.forEach(symbol => {
      const card = createCard(symbol);
      gameContainer.appendChild(card);
    });
  }

  initGame();
</script>

</body>
</html>
