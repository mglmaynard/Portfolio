<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Snake and Ladder</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f0f8ff;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  h1 {
    margin-bottom: 10px;
  }
  #board {
    display: grid;
    grid-template-columns: repeat(10, 40px);
    grid-template-rows: repeat(10, 40px);
    border: 2px solid #333;
    margin-bottom: 20px;
  }
  .cell {
    border: 1px solid #ccc;
    width: 40px;
    height: 40px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 12px;
    position: relative;
  }
  .cell:nth-child(even) {
    background: #e0f7fa;
  }
  .player1, .player2 {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    position: absolute;
    bottom: 2px;
  }
  .player1 {
    background: #e91e63;
    left: 5px;
  }
  .player2 {
    background: #3f51b5;
    right: 5px;
  }
  #info {
    margin-bottom: 10px;
    font-size: 1.2rem;
  }
  #diceBtn {
    padding: 10px 20px;
    font-size: 1rem;
    background: #4caf50;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    user-select: none;
  }
  #diceBtn:disabled {
    background: #9e9e9e;
    cursor: not-allowed;
  }
  #diceResult {
    margin-top: 10px;
    font-weight: bold;
    font-size: 1.3rem;
  }
</style>
</head>
<body>

<h1>Snake and Ladder</h1>

<div id="board"></div>

<div id="info">Player 1's turn (Pink)</div>
<button id="diceBtn">Roll Dice</button>
<div id="diceResult"></div>

<script>
  const board = document.getElementById('board');
  const info = document.getElementById('info');
  const diceBtn = document.getElementById('diceBtn');
  const diceResult = document.getElementById('diceResult');

  // Board cells 1 to 100
  const cells = [];

  // Snakes and ladders (key=start, value=end)
  const snakes = {
    16: 6,
    47: 26,
    49: 11,
    56: 53,
    62: 19,
    64: 60,
    87: 24,
    93: 73,
    95: 75,
    98: 78
  };

  const ladders = {
    1: 38,
    4: 14,
    9: 31,
    21: 42,
    28: 84,
    36: 44,
    51: 67,
    71: 91,
    80: 100
  };

  // Players
  const players = [
    { pos: 0, colorClass: 'player1', name: 'Player 1 (Pink)' },
    { pos: 0, colorClass: 'player2', name: 'Player 2 (Blue)' }
  ];
  let currentPlayer = 0;

  // Create board cells
  function createBoard() {
    board.innerHTML = '';
    cells.length = 0;

    let num = 100;
    for (let row = 0; row < 10; row++) {
      // For zigzag numbering
      const start = row * 10 + 1;
      const end = start + 9;
      let rowNums = [];
      for(let i = start; i <= end; i++) rowNums.push(i);

      if (row % 2 === 1) rowNums.reverse();

      for (let i = 0; i < 10; i++) {
        const cellNum = rowNums[i];
        const cell = document.createElement('div');
        cell.classList.add('cell');
        cell.dataset.cell = cellNum;
        cell.textContent = cellNum;

        // Add snake or ladder markers
        if (snakes[cellNum]) {
          const snakeMark = document.createElement('div');
          snakeMark.style.position = 'absolute';
          snakeMark.style.top = '2px';
          snakeMark.style.right = '2px';
          snakeMark.style.fontSize = '10px';
          snakeMark.style.color = 'red';
          snakeMark.textContent = '🐍';
          cell.appendChild(snakeMark);
        }
        if (ladders[cellNum]) {
          const ladderMark = document.createElement('div');
          ladderMark.style.position = 'absolute';
          ladderMark.style.top = '2px';
          ladderMark.style.left = '2px';
          ladderMark.style.fontSize = '10px';
          ladderMark.style.color = 'green';
          ladderMark.textContent = '🪜';
          cell.appendChild(ladderMark);
        }

        board.appendChild(cell);
        cells[cellNum] = cell;
      }
    }
  }

  function updatePlayers() {
    // Clear previous positions
    cells.forEach(cell => {
      if (!cell) return;
      const p1 = cell.querySelector('.player1');
      const p2 = cell.querySelector('.player2');
      if (p1) p1.remove();
      if (p2) p2.remove();
    });

    // Place players on new positions
    players.forEach((player, i) => {
      let pos = player.pos;
      if (pos === 0) pos = 1; // start off board shown on cell 1
      const cell = cells[pos];
      if (!cell) return;

      const playerDot = document.createElement('div');
      playerDot.classList.add(player.colorClass);
      playerDot.title = player.name;
      cell.appendChild(playerDot);
    });
  }

  function rollDice() {
    return Math.floor(Math.random() * 6) + 1;
  }

  function movePlayer(player, roll) {
    let newPos = player.pos + roll;
    if (newPos > 100) newPos = player.pos; // can't move beyond 100

    // Check ladder
    if (ladders[newPos]) {
      newPos = ladders[newPos];
    }

    // Check snake
    if (snakes[newPos]) {
      newPos = snakes[newPos];
    }

    player.pos = newPos;
  }

  function checkWin(player) {
    return player.pos === 100;
  }

  diceBtn.addEventListener('click', () => {
    diceBtn.disabled = true;
    const roll = rollDice();
    diceResult.textContent = `Dice rolled: ${roll}`;

    const player = players[currentPlayer];
    movePlayer(player, roll);
    updatePlayers();

    if (checkWin(player)) {
      info.textContent = `${player.name} wins! 🎉`;
      diceBtn.disabled = true;
      return;
    }

    if (roll !== 6) {
      // Switch player if roll != 6
      currentPlayer = 1 - currentPlayer;
    }
    info.textContent = `${players[currentPlayer].name}'s turn`;

    // Re-enable dice button after short delay for better UX
    setTimeout(() => {
      diceBtn.disabled = false;
      diceResult.textContent = '';
    }, 1000);
  });

  // Initialize
  createBoard();
  updatePlayers();
</script>

</body>
</html>
